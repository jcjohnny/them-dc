<style>
  .slides {
    width: 100%;
    height: 100vh;
    overflow: hidden;
    display: grid;
    grid-template-rows: 100%;
    grid-template-columns: 100%;
    place-items: center;
    transition: opacity 0.5s ease;
  }

  .slide {
    width: 100%;
    height: 100%;
    grid-area: 1 / 1 / -1 / -1;
    pointer-events: none;
    opacity: 0;
    overflow: hidden;
    position: relative;
    display: grid;
    place-items: center;
    will-change: transform, opacity;
  }

  .slide--current {
    pointer-events: auto;
    opacity: 1;
  }

  .slide__img {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: 50% 50%;
    background-repeat: no-repeat;
    will-change: transform, opacity, filter;
  }

  .fade-out {
    opacity: 0;
  }
</style>

<section>
  <div class="slides z-100 fixed top-0">
    <div class="slide">
      <div
        class="slide__img flex align-middle items-center justify-center w-full"
        style=""
      >
        <div
          class="flex align-middle items-center justify-center w-full gap-15"
        >
          <img src="" alt="" />
          <img
            class="w-[15%]"
            src="https://media.them.us/photos/67e5937ec8879abc4c95cece/original/pass/DC-logo.png?format=original"
            alt=""
          />
          <img
            class="w-[50%]"
            src="https://media.them.us/photos/67e584665120336f7dc2363b/original/pass/DC_TITLE_1-01%201.png?format=original"
            alt=""
          />
          <img
            class="w-[15%]"
            src="https://media.them.us/photos/67e5937d8d127305d968081c/original/pass/themlogo.png?format=original"
            alt=""
          />
        </div>
      </div>
    </div>
    <div class="slide">
      <div
        class="slide__img"
        style="background-image:url(https://media.them.us/photos/67d079b5e6329b8e7c2a9bfa/original/pass/Them_DC_062.jpg?format=original)"
      >
      </div>
    </div>
    <div class="slide">
      <div
        class="slide__img"
        style="background-image:url(https://media.them.us/photos/67d079b5d110009f91ba118d/original/pass/Them_DC_053.png?format=original)"
      >
      </div>
    </div>
    <div class="slide">
      <div
        class="slide__img"
        style="background-image:url(https://media.them.us/photos/67d079b53bfb25f1f6ad8364/original/pass/Them_DC_014%202.png?format=original)"
      >
      </div>
    </div>
    <div class="slide">
      <div
        class="slide__img"
        style="background-image:url(https://media.them.us/photos/67d079b5d110009f91ba118c/original/pass/Them_DC_049.jpg?format=original)"
      >
      </div>
    </div>
  </div>
</section>

<script>
  import { Slideshow } from "../scripts/slideshow.js";
  const slides = document.querySelector(".slides") as any;
  const slideshow = new Slideshow(slides);
  const slideshowSlides = slideshow.DOM.slides;
  const firstSlide = slideshowSlides[0];
  const lastSlide = slideshowSlides[slideshowSlides.length - 1];

  var setSlidernAnimatedInterval = 0;

  function showNextSlide() {
    if (firstSlide.classList.contains("slide--current")) {
      setSlidernAnimatedInterval = setInterval(showNextSlide, 1200);
    } else if (lastSlide.classList.contains("slide--current")) {
      clearInterval(setSlidernAnimatedInterval);
      slides.classList.add("fade-out");
      slides.addEventListener("transitioned", () => {}, {
        once: true,
      });
    }
    slideshow.next();
  }

  setTimeout(() => {
    showNextSlide();
  }, 3000);
</script>
